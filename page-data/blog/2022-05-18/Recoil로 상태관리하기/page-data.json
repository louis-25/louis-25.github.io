{
    "componentChunkName": "component---src-templates-post-template-tsx",
    "path": "/blog/2022-05-18/Recoil로 상태관리하기/",
    "result": {"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h1 id=\"recoil이란\" style=\"position:relative;\"><a href=\"#recoil%EC%9D%B4%EB%9E%80\" aria-label=\"recoil이란 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Recoil이란?</h1>\n<p>Recoil은 Facebook에서 만든 상태관리 라이브러리로</p>\n<p>Redux보다 상대적으로 사용하기 간편하다</p>\n<h1 id=\"사용법\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9%EB%B2%95\" aria-label=\"사용법 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>사용법</h1>\n<p>우선 아래의 코드를 실행하여 Recoil을 설치하자</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">yarn add recoil</code></pre></div>\n<h1 id=\"recoilroot\" style=\"position:relative;\"><a href=\"#recoilroot\" aria-label=\"recoilroot permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>RecoilRoot</h1>\n<p>상위 컴포넌트에서 RecoilRoot로 한번 감싸줘야</p>\n<p>하위 모든 컴포넌트에서 리코일을 사용하여 상태관리를 할 수 있다</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">/* index.tsx */</span>\r\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> ReactDOM <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-dom/client\"</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> RecoilRoot <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"recoil\"</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">import</span> App <span class=\"token keyword\">from</span> <span class=\"token string\">\"./App\"</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> root <span class=\"token operator\">=</span> ReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">createRoot</span><span class=\"token punctuation\">(</span>\r\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"root\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> HTMLElement\r\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\nroot<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\r\n  <span class=\"token operator\">&lt;</span>React<span class=\"token punctuation\">.</span>StrictMode<span class=\"token operator\">></span>\r\n    <span class=\"token operator\">&lt;</span>RecoilRoot<span class=\"token operator\">></span>\r\n      <span class=\"token operator\">&lt;</span>App <span class=\"token operator\">/</span><span class=\"token operator\">></span>\r\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>RecoilRoot<span class=\"token operator\">></span>\r\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>React<span class=\"token punctuation\">.</span>StrictMode<span class=\"token operator\">></span>\r\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h1 id=\"atomsts\" style=\"position:relative;\"><a href=\"#atomsts\" aria-label=\"atomsts permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>atoms.ts</h1>\n<p>Recoil의 atom은 React의 state를 저장하는 단위라고 생각하면 된다</p>\n<p>atoms.ts는 하나 만들어두면 아래와 같이 여러가지</p>\n<p>atom을 관리하는 저장소로 사용하기 좋다</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">/* atoms.ts */</span>\r\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> atom <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"recoil\"</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> isDarkAtom <span class=\"token operator\">=</span> <span class=\"token function\">atom</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\r\n  <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> <span class=\"token string\">\"isDark\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// state에 부여할 key값</span>\r\n  <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// state의 초기값</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>아래 Recoil의 다양한 Hook을 사용하여 atoms.ts의 atom에 접근하고</p>\n<p>값을 얻거나 수정하며 상태관리를 할 수 있다.</p>\n<h1 id=\"userecoilvalue\" style=\"position:relative;\"><a href=\"#userecoilvalue\" aria-label=\"userecoilvalue permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>useRecoilValue</h1>\n<p>저장소에서 값을 가져오는 역할</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useRecoilValue <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"recoil\"</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> isDark <span class=\"token operator\">=</span> <span class=\"token function\">useRecoilValue</span><span class=\"token punctuation\">(</span>isDarkAtom<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// atoms.ts에 저장된 값을 가져온다</span></code></pre></div>\n<h1 id=\"usesetrecoilstate\" style=\"position:relative;\"><a href=\"#usesetrecoilstate\" aria-label=\"usesetrecoilstate permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>useSetRecoilState</h1>\n<p>저장소의 값을 세팅해주는 역할</p>\n<p>useState의 setState함수처럼 사용하면 된다</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useSetRecoilState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"recoil\"</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">const</span> setterFn <span class=\"token operator\">=</span> <span class=\"token function\">useSetRecoilState</span><span class=\"token punctuation\">(</span>isDarkAtom<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 값을 세팅해주는 함수를 가져온다</span>\r\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">toggleDarkAtom</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setDarkAtom</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">prev</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token operator\">!</span>prev<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 현재 상태와 반대되는 값으로 세팅</span>\r\n<span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>toggleDarkAtom<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>Toggle Dark Mode<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span></code></pre></div>","frontmatter":{"title":"Recoil로 상태관리하기","summary":"Recoil을 사용하여 상태관리를 해보자","date":"2022.05.18.","categories":["React"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA+0lEQVQoz8WRwWoCMRCG92WrTZptoFC8lJaeRNBD3eKlC0UvBXvoW2w2i6Do4pbYihSSqDFR+wTF6Npu91D2VBgGBuab+f8ZB0fy5ePTS3Q54CgUZ0XCuezNfWaqQwXIri7EO5XevDZSN4PFHoO5DpgGyMOA8FPCod1ZCnhzrK/7izLhLhUolC4VmMpzKjGVF9GuzMB7qcjORlR03teNWFWHqjvb+sy039Zeor1E+8w8z7Y4kpBk4aM8FIqn6aYeq9vB8oEZn5nWq74b63sLP06MSzO+vmEUipOA1+PVlZUNUv84ksiKAiTn+fd5yIFBaYY/pv8BF/vzv8FfJ9jVQHdbTdsAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/cec998326588685bff3144540aadd58f/5b02c/recoil_title.png","srcSet":"/static/cec998326588685bff3144540aadd58f/97816/recoil_title.png 300w,\n/static/cec998326588685bff3144540aadd58f/39276/recoil_title.png 600w,\n/static/cec998326588685bff3144540aadd58f/5b02c/recoil_title.png 1200w","sizes":"(min-width: 1200px) 1200px, 100vw"},"sources":[{"srcSet":"/static/cec998326588685bff3144540aadd58f/06a20/recoil_title.webp 300w,\n/static/cec998326588685bff3144540aadd58f/8aaf6/recoil_title.webp 600w,\n/static/cec998326588685bff3144540aadd58f/65ea7/recoil_title.webp 1200w","type":"image/webp","sizes":"(min-width: 1200px) 1200px, 100vw"}]},"width":1200,"height":685}}}},"tableOfContents":"<ul>\n<li><a href=\"#recoil%EC%9D%B4%EB%9E%80\">Recoil이란?</a></li>\n<li><a href=\"#%EC%82%AC%EC%9A%A9%EB%B2%95\">사용법</a></li>\n<li><a href=\"#recoilroot\">RecoilRoot</a></li>\n<li><a href=\"#atomsts\">atoms.ts</a></li>\n<li><a href=\"#userecoilvalue\">useRecoilValue</a></li>\n<li><a href=\"#usesetrecoilstate\">useSetRecoilState</a></li>\n</ul>"}}]},"file":{"childImageSharp":{"profileImage":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,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"},"images":{"fallback":{"src":"/static/c0c68d862875d70f0aef2ffa639adc0c/a0287/profile-image.png","srcSet":"/static/c0c68d862875d70f0aef2ffa639adc0c/6ecb6/profile-image.png 30w,\n/static/c0c68d862875d70f0aef2ffa639adc0c/43a9d/profile-image.png 60w,\n/static/c0c68d862875d70f0aef2ffa639adc0c/a0287/profile-image.png 120w,\n/static/c0c68d862875d70f0aef2ffa639adc0c/f5f72/profile-image.png 240w","sizes":"(min-width: 120px) 120px, 100vw"},"sources":[{"srcSet":"/static/c0c68d862875d70f0aef2ffa639adc0c/2b147/profile-image.webp 30w,\n/static/c0c68d862875d70f0aef2ffa639adc0c/caa3b/profile-image.webp 60w,\n/static/c0c68d862875d70f0aef2ffa639adc0c/b15f9/profile-image.webp 120w,\n/static/c0c68d862875d70f0aef2ffa639adc0c/b5014/profile-image.webp 240w","type":"image/webp","sizes":"(min-width: 120px) 120px, 100vw"}]},"width":120,"height":120}}}},"pageContext":{"slug":"/blog/2022-05-18/Recoil로 상태관리하기/"}},
    "staticQueryHashes": ["260611555"]}